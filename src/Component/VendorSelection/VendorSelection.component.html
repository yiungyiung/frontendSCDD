<div class="accordion" id="categoryAccordion">
    <div *ngFor="let category of categorizedVendors; let index = index">
        <div (click)="toggleCollapse(index)">
            {{ category.categoryName }}
        </div>
        <div *ngIf="isCollapseExpanded(index)">
            <input type="checkbox" [checked]="areAllVendorsSelected(category)" (change)="selectAllVendors(category, $event)" [disabled]="isCategoryDisabled(category.categoryID)" /> Select All

            <div *ngFor="let vendor of category.vendors">
                <input type="checkbox" [checked]="selectedVendors[vendor.vendorID] || false" (change)="onVendorSelectionChange($event, vendor)" [disabled]="isVendorDisabled(category.categoryID)" /> {{ vendor.vendorName }}
            </div>
        </div>
    </div>

</div>