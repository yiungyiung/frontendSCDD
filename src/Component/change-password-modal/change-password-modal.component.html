<div class="modal-overlay" *ngIf="isOpen">
  <div class="modal-content">
    <h2>Change Password</h2>
    <div class="divider">
      <div class="form-container">
        <form #passwordForm="ngForm" (ngSubmit)="onSubmit(passwordForm)" class="password-form">
          <div class="form-group">
            <label for="oldPassword">Old password</label>
            <input
              type="password"
              id="oldPassword"
              [(ngModel)]="changePasswordDto.oldPassword"
              name="oldPassword"
              required
              #oldPassword="ngModel"
            />
            <div *ngIf="oldPassword.invalid && (oldPassword.dirty || oldPassword.touched)" class="error-message">
              Old password is required
            </div>
          </div>
          <div class="form-group">
            <label for="newPassword">New password</label>
            <input
              type="password"
              id="newPassword"
              [(ngModel)]="changePasswordDto.newPassword"
              name="newPassword"
              required
              minlength="6"
              #newPassword="ngModel"
            />
            <div *ngIf="newPassword.invalid && (newPassword.dirty || newPassword.touched)" class="error-message">
              <div *ngIf="newPassword.errors?.['required']">New password is required</div>
              <div *ngIf="newPassword.errors?.['minlength']">New password must be at least 6 characters long</div>
            </div>
          </div>
          <div class="form-group">
            <label for="confirmPassword">Confirm new password</label>
            <input
              type="password"
              id="confirmPassword"
              [(ngModel)]="confirmPassword"
              name="confirmPassword"
              required
            />
            <div *ngIf="confirmPassword !== changePasswordDto.newPassword" class="error-message">
              Passwords must match
            </div>
          </div>
          <div class="button-group">
            <button type="submit" [disabled]="passwordForm.invalid" class="submit-btn">Submit</button>
            <button type="button" (click)="close()" class="cancel-btn">Cancel</button>
          </div>
        </form>
        <div class="password-policy">
          <h3>Password Policy:</h3>
          <ul>
            <li>Password length must be greater than 7 and less than 15 characters.</li>
            <li>Password must contain at least 1 capital letter.</li>
            <li>Password must contain at least 1 small letter.</li>
            <li>Password must contain at least 1 numeric character.</li>
            <li>Password must contain at least 1 special character.</li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</div>
